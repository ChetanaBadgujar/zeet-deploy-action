fragment DeployResult on Repo {
  id
  productionDeployment {
    id
  }
}

query GetProject($path: String!) {
  project(path: $path) {
    id
  }
}

mutation UpdateProject($input: UpdateProjectInput!) {
  updateProject(input: $input) {
    ...DeployResult
  }
}

mutation DeployBranch($id: ID!, $branch: String) {
  buildRepo(id: $id, branch: $branch) {
    ...DeployResult
  }
}

query GetDeployment($id: ID!) {
  currentUser {
    id
    deployment(id: $id) {
      id
      status
    }
  }
}
